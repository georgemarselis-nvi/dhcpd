.\" Automatically generated by Pandoc 2.14.0.3
.\"
.TH "dhcpd.conf" "5" "" "1.0" "The ISC dhcpd configuration file"
.hy
.SH Name
.PP
dhcpd.conf - The ISC dhcpd configuration file.
.SS Description
.PP
The dhcpd.conf file contains configuration information for the dhcpd
daemon, the Internet Systems Consortium DHCP Server.
This man page also describes several DHCP concepts, along with dhcpd
redundancy and Dynamic DNS updates
.SS File format
.PP
The file is comprised of comments, parameters and declarations.
Comments start with a pound sign (`#') and end at newline.
You can use whitespaces (tabs and newlines) for formating anywhere
outside a parameter and/or declaration.
.PP
Comments, parameters and declarations can appear either at the beginning
of the line or anywhere with the same line, regardless of preceeding
whitespace.
You can have comments at the beginninig of a line or the end of a
parameter, after you place the semicolon, like this:
.IP
.nf
\f[C]
# Section about ldap
ldap-port 389; # LDAP port
\f[R]
.fi
.PP
Since dhcpd.conf can be a long file, please remember to indent your
parameters and declarations, appropriatel.
Terminate any parameter with a semicolon.
In declarations, place parameters and nested declerations inside
curly/brace brackets, much like a C program.
.IP
.nf
\f[C]
subnet 192.168.10.0 netmask 255.255.255.0 {
    range 192.168.10.100 192.168.10.200;
    option routers 192.168.10.1;
}
\f[R]
.fi
.PP
Nested declarations look like this:
.IP
.nf
\f[C]
shared-network 224-29 {
    subnet 192.168.10.0 netmask 255.255.255.0 {
        option routers 192.168.10.1;
    }
}
\f[R]
.fi
.PP
Parameters and declarations can be on the same line, as long as you use
the semicolons (`;') to declare the end of a parameter and remember to
start and close the body of the decleration with curly/brace brackets.
But since a company dhcpd can be quite long, it is really not worth the
trouble:
.IP
.nf
\f[C]
subnet 192.168.10.0 netmask 255.255.255.0 { range 192.168.10.100 192.168.10.200; option routers 192.168.10.1; }
\f[R]
.fi
.PP
You might have already guessed what these declarations might do.
We will explain in more details further below.
If you wish to read ahead, see
\f[B]\f[BI]dhcpd.conf-declarations(5)\f[B]\f[R]
.SS Parameters
.PP
Parameters are variables for various dhcpd options.
Examples of parameters are the dhcp lease duration, wheather or not to
provide addresses to unknown/not-pre-registered clients or the IP
address of a gateway a client should use.
The format of dhcpd.conf allows most parameters to be both global or
local to a subnet and/or group, depending on the needs of the
administrator.
As we mentioned earlier, all declarations must end with a semicolon.
.PP
Parameters must be stated before any actual use in a decleration, both
globally and/or in a subnet/group decleration.
DHCPD has either sane settings or does not require any parameter which
is not already declared.
Any options not specifically stated, are either inherited from (
reasonably reasonable) global parameters (MTU, for example) or ignored
and not passed to the client.
For example, if you do not include a \f[C]option routers\f[R] statement
in your subnet decleration, it will create a router-less network
declaration.
Multiple declarations of the same parameter can be applied, but the
effect depends on the scope.
For example while there can be a global \f[C]option routers\f[R]
parameter which can be overriden by a more specific-to-the-network
instance, like so:
.IP
.nf
\f[C]
option routers 192.168.1.1;

subnet 192.168.10.0 netmask 255.255.255.0 {
    range 192.168.10.100 192.168.10.200;
    option routers 192.168.10.1;
}
\f[R]
.fi
.PP
The clients which will not match any subnet described/declared(?) will
inherit the global option.
Otherwise any client on the 192.168.10.0/24 subnetwork will receive
\f[C]192.168.10.1\f[R] as the network gateway.
.PP
For a complete list of dhcpd parameters see
\f[B]\f[BI]dhcpd.conf-parameters(5)\f[B]\f[R].
.SS Declarations
.PP
Declarations are similar to a line of code in a program: They describe
the parameters of the network (gateway, broadcast, MTU etc ) or the
parameters the clients ( assigned IP for the client, assigned DNS, etc
).
All declerations are comprised of two elements: the statement and the
body, e.g.:
.IP
.nf
\f[C]
subnet 192.168.10.0 netmask 255.255.255.0 {
    ...
}
\f[R]
.fi
.PP
A statement describes the topology of the network.
The body is mostly comprised of options we would like to apply for the
specific network.
The body is being differenciated by the statment via curly/brace
brackets.
Declaration bodys start with an opening curly/brace bracket ( `{' ) can
have zero or more parameters in them.
Declaration bodies must end with a closing curly/brace bracket (`}') .
We will talk about the most common statements later on.
.PP
Declarations can be nested: a decleration can apply to a group of
parameters and/or a group of other declarations.
For example, you can group declarations that apply a lease to multiple
networks in a single decleration and then use that decleration in
subsequent network statements.
Or, you can nest declarations to provide exeptions to speficic category
of clients and/or network.
.PP
More examples in the relevant section ( \f[B]Examples\f[R] ) .
For a complete list and more advanced examples see
\f[B]\f[BI]dhcpd.conf-declarations(5)\f[B]\f[R]
.SS Client assignments
.PP
Before we go into the details of declarations, we have to talk about
client assignments.
The assignments come in two flavors, dynamic and static assignment:
.IP "1." 3
Dynamic assignment is an IP/parameters assignment for the host that gets
periodically refreshed, according to the lease duration parameter.
.IP "2." 3
Static assignments, are hosts who have a known \f[I]characteristic\f[R].
Such characteristic can be the mac address (\f[C]hardware ethernet\f[R]
parameter), or other details passed on by the client, such as booting in
UEFI or BIOS.
Static assignments are always included in specific declaration.
.SS Order of client assignments
.PP
When dhcpd tries to find a host declaration for a client, it first looks
for a host declaration which has a fixed-address declaration that lists
an IP address that is valid for the subnet or shared network on which
the client is booting.
If it doesn\[cq]t find any such entry, it tries to find an entry which
has no fixed-address declaration
.PP
Additionally, boot parameters are determined by 1.
The client\[cq]s host declaration (if any) 2.
Consulting any class declarations matching the client 3.
Consulting any pool declarations matching the client 4.
Subnet matching and finally 5.
Shared-network declarations for the IP address assigned to the client
.PP
Examples for the above will be given, after we explore the lexical scope
of the file.
.IP
.nf
\f[C]
host ncd1 { hardware ethernet 08:52:27:C4:8B:18; }
\f[R]
.fi
.PP
Each of these declarations itself appears within a lexical scope, and
all declarations at less specific lexical scopes are also consulted for
client option declarations.
.SS Syntax / EBNF / Lexical Scope
.PP
Scopes are never considered twice.
.IP
.nf
\f[C]
If parameters are declared in more than one scope, the parameter declared in the most specific scope is the one that is used.
\f[R]
.fi
.PP
The fuck this means?
what is specific, in this case.
.SS Most often used declarations
.SS Declaration: Host decleration
.PP
The most often used declaration is the \f[C]subnet\f[R] decleration.
We have already used it a couple of times already.
.SS Declaration: Class decleration
.SS Declaration: Pool decleration
.SS Declaration: Subnet decleration
.SS Declaration: Shared-network decleration
.SS Files
.SS Bugs
.SS Author
.SS Most frequent mistakes
.PP
Semicolons.
Use dhcpd -T to test your setup, but the error messages provided can be
less than stelar.
.SS Concepts that you should be aware of
.PP
\f[B]Shared network\f[R]: \f[C]shared-network\f[R] What is a \[lq]shared
network\[rq] ?
https://support.microfocus.com/kb/doc.php?id=7004091 .
Why should we care?
How do you configure a shared nework with dhcpd?
https://serverfault.com/questions/1014741/isc-dhcpd-how-to-assign-different-dhcp-settings-even-if-request-originated-from
.PP
For a complete list of dhcpd declarations see
\f[B]\f[BI]dhcpd.conf-declarations(5)\f[B]\f[R].
For a more complete and expanded list of examples see *
\f[B]Examples\f[R] in this man page *
\f[B]\f[BI]dhcpd.conf-examples(5)\f[B]\f[R] *
\f[B]\f[BI]dhcpd.conf-advanced-examples(5)\f[B]\f[R]
.SS See Also
.PP
\f[B]\f[BI]dhcpd.conf-examples(5)\f[B]\f[R],
\f[B]\f[BI]dhcpd.conf-advanced-examples(5)\f[B]\f[R]
\f[B]\f[BI]dhcpd.conf-ldap(5)\f[B]\f[R], \f[B]\f[BI]dhcpd(8)\f[B]\f[R],
\f[B]\f[BI]dhcpd.leases(5)\f[B]\f[R],
\f[B]\f[BI]dhcp-options(5)\f[B]\f[R], \f[B]\f[BI]dhcp-eval(5)\f[B]\f[R],
RFC2132, RFC2131.
